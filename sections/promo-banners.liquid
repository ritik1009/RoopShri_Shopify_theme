{% schema %}
{
  "name": "Custom Double Banner",
  "settings": [
    {
      "type": "range",
      "id": "section_height",
      "label": "Banner Height (Desktop)",
      "default": 300,
      "min": 150,
      "max": 600,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_height_mobile",
      "label": "Banner Height (Mobile)",
      "default": 200,
      "min": 100,
      "max": 400,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between banners",
      "default": 10,
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_padding",
      "label": "Section Padding",
      "default": 20,
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "section_margin",
      "label": "Section Margin",
      "default": 20,
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px"
    },
    {
      "type": "checkbox",
      "id": "enable_animation",
      "label": "Enable Hover Animation",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "banner",
      "name": "Banner Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "banner_image",
          "label": "Banner Image"
        },
        {
          "type": "text",
          "id": "banner_subtitle",
          "label": "Subtitle",
          "default": "NEW COLLECTION"
        },
        {
          "type": "text",
          "id": "banner_title",
          "label": "Title",
          "default": "Best Gold Filled Bracelet"
        },
        {
          "type": "url",
          "id": "banner_link",
          "label": "Link"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text Color",
          "default": "#000000"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "Text Alignment",
          "default": "left",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right", "label": "Right" }
          ]
        },
        {
          "type": "color",
          "id": "background_color",
          "label": "Background Color",
          "default": "#ffffff"
        }
      ]
    }
  ],
  "max_blocks": 2,
  "presets": [
    {
      "name": "Custom Double Banner",
      "category": "Image"
    }
  ]
}
{% endschema %}

{% stylesheet %}
.custom-double-banner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--gap);
  padding: var(--section-padding);
  margin: var(--section-margin) auto;
}

.custom-double-banner .banner {
  position: relative;
  width: 100%;
  overflow: hidden;
  background-color: var(--banner-bg);
}

.custom-double-banner .banner img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

{% if section.settings.enable_animation %}
.custom-double-banner .banner:hover img {
  transform: scale(1.05);
}
{% endif %}

.custom-double-banner .banner-content {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 100%;
  padding: 20px;
}

.custom-double-banner .banner-content h3,
.custom-double-banner .banner-content p {
  margin: 0;
}

@media (max-width: 768px) {
  .custom-double-banner {
    grid-template-columns: 1fr;
  }
}
{% endstylesheet %}

<div class="custom-double-banner"
     style="
      --gap: {{ section.settings.gap }}px;
      --section-padding: {{ section.settings.section_padding }}px;
      --section-margin: {{ section.settings.section_margin }}px;
      --banner-height: {{ section.settings.section_height }}px;
      --banner-height-mobile: {{ section.settings.section_height_mobile }}px;
     ">
  {% for block in section.blocks %}
    <div class="banner" style="height: var(--banner-height); --banner-bg: {{ block.settings.background_color }};">
      {% if block.settings.banner_image != blank %}
        <img src="{{ block.settings.banner_image | img_url: '1200x' }}" alt="{{ block.settings.banner_title }}" style="height: 100%;">
      {% endif %}
      <div class="banner-content" style="text-align: {{ block.settings.text_alignment }}; color: {{ block.settings.text_color }};">
        <p>{{ block.settings.banner_subtitle }}</p>
        <h3>{{ block.settings.banner_title }}</h3>
        {% if block.settings.banner_link != blank %}
          <a href="{{ block.settings.banner_link }}" class="btn">Shop Now</a>
        {% endif %}
      </div>
    </div>
  {% endfor %}
</div>

<style>
@media (max-width: 768px) {
  .custom-double-banner .banner {
    height: var(--banner-height-mobile) !important;
  }
}
</style>
